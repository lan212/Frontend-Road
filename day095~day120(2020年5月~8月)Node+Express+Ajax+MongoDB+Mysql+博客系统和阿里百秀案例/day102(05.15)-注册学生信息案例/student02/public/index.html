<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>学生档案</title>
	<link rel="stylesheet" href="./css/main.css">
</head>

<body>
	<form id="form">
		<fieldset>
			<legend>学生档案</legend>
			<label>
				姓名: <input class="normal" type="text" autofocus placeholder="请输入姓名" name="name">
			</label>
			<label>
				年龄: <input class="normal" type="text" placeholder="请输入年龄" name="age">
			</label>
			<label>
				性别:
				<input type="radio" value="0" name="gender"> 男
				<input type="radio" value="1" name="gender"> 女
			</label>
			<label>
				邮箱地址: <input class="normal" type="text" placeholder="请输入邮箱地址" name="email">
			</label>
			<label>
				爱好:
				<input type="checkbox" value="敲代码" name="hobby"> 敲代码
				<input type="checkbox" value="打篮球" name="hobby"> 打篮球
				<input type="checkbox" value="睡觉" name="hobby"> 睡觉
			</label>
			<label>
				所属学院:
				<select class="normal" name="major">
					<option value="前端与移动开发">前端与移动开发</option>
					<option value="PHP">PHP</option>
					<option value="JAVA">JAVA</option>
					<option value="Android">Android</option>
					<option value="IOS">IOS</option>
					<option value="UI设计">UI设计</option>
					<option value="C++">C++</option>
				</select>
			</label>
			<label>
				入学日期: <input type="date" class="normal" name="date">
			</label>
			<label class="btn">
				<input type="button" value="提交" class="normal">
			</label>
		</fieldset>
	</form>

	<script src="./lib/jquery-3.4.1.min.js"></script>
	<script>
		$(".btn input").on("click", clickBtn)
		function clickBtn() {
			// 搜集数据
			let studentInfo = $("#form").serialize();  // age=22&gender=1&email=yuanxudong201 ......
			// 
			$.ajax({
				type: "post",
				url: "http://localhost/addData",
				data: studentInfo,
				success: function (data) {
					if (data == "success") {
						// 为了跳转页面
						window.location.href = "/list.html";
					}
				}
			})

		}
	</script>
</body>

</html>